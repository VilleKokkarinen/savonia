(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t,a){e.exports=a(223)},222:function(e,t,a){},223:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(37),l=a.n(c),o=a(14),s=a(250),i=a(108),u=a(34),m=a(87),d=a(116),h=a(109),p=a(19),b={loading:!1,info:null,error:null,success:null};var f={loading:!0,error:null,memberTypes:[{id:1,title:"---"},{id:2,title:"----- ---"}],members:[{placeholder:!0,id:"0",userName:"---- --- -- ------"}]};var E={loading:!0,error:null,chats:[{placeholder:!0,id:"0",name:"you don't have any chats yet. ",authorizedUsers:[{id:"0",userName:""},{id:"1",userName:""}]}]};var g={postTypes:[{id:1,title:"---"},{id:2,title:"----- ---"}],posts:[{placeholder:!0,id:"0",title:"---- --- -- ------",body:"---- --- -- ------ ---- --- -- ------ ---- --- -- ------ ---- --- -- ------",author:"---- ------ ",category:1,image:"https://firebasestorage.googleapis.com/v0/b/react-native-starter-app.appspot.com/o/image-1.jpg?alt=media&token=9f7c839b-2d40-4660-a2a0-bf6c2f64a2e5",details:["---- --- -- ------","---- ------ --- --"],info:["---- --- -- ------","---- ------ --- --"]}],favourites:[]};var v={rehydrated:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"persist/REHYDRATE":return!0;default:return e}},status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STATUS_REPLACE":return Object(p.a)({},e,{loading:t.loading||!1,info:t.info||null,error:t.error||null,success:t.success||null});default:return e}},member:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":return t.data?Object(p.a)({},e,{uid:t.data.uid,email:t.data.email,emailVerified:t.data.emailVerified}):{};case"USER_DETAILS_UPDATE":return t.data?Object(p.a)({},e,{userName:t.data.userName,signedUp:t.data.signedUp,role:t.data.role}):{};case"USER_RESET":return{};default:return e}},members:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MEMBERTYPES_REPLACE":return Object(p.a)({},e,{error:null,loading:!1,memberTypes:t.data});case"MEMBERS_ERROR":return Object(p.a)({},e,{error:t.data});case"MEMBERS_REPLACE":var a=[];if(t.data&&"object"===typeof t.data){var n=t.data,r=[];for(var c in n)r.push(n[c]);a=r.map(function(e){return{id:e.id,userName:e.userName}})}return Object(p.a)({},e,{error:null,loading:!1,members:a});default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FAVOURITES_REPLACE":return Object(p.a)({},e,{favourites:t.data||[]});case"POSTTYPES_REPLACE":return Object(p.a)({},e,{error:null,loading:!1,postTypes:t.data});case"POSTS_ERROR":return Object(p.a)({},e,{error:t.data});case"POSTS_REPLACE":var a=[];return t.data&&"object"===typeof t.data&&(a=Object.values(t.data).map(function(e){return{id:e.id,title:e.title,body:e.body,category:e.category,image:e.image,author:e.author,details:e.details,info:e.info}})),Object(p.a)({},e,{error:null,loading:!1,posts:a});default:return e}},chats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHATS_ERROR":return Object(p.a)({},e,{error:t.data});case"CHATS_REPLACE":var a=[];return t.data&&"object"===typeof t.data&&(a=Object.values(t.data).map(function(e){return{id:e.id,name:e.name,messages:Object.values(e.messages).map(function(e){return{id:e.id,message:e.message,timestamp:e.timestamp,author:e.author}})||{},authorizedUsers:Object.values(e.authorizedUsers).map(function(e){return{id:e.id,userName:e.userName}})}})),Object(p.a)({},e,{error:null,loading:!1,chats:a});default:return e}}},y={key:"root",storage:d.a,blacklist:["status"]},w=Object(m.a)(y,v),O=[h.a],j=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,t=Object(u.e)(w,e(u.a.apply(void 0,O)));return{persistor:Object(m.b)(t,null,function(){t.getState()}),store:t}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=a(253),S=a(249),C=a(225),k=a(226),P=a(227),x=a(43),T=function(e){var t=e.pageTitle,a=e.children;return r.a.createElement(C.a,null,r.a.createElement(x.Helmet,null,r.a.createElement("title",null,t)),r.a.createElement(k.a,null,r.a.createElement(P.a,{sm:"12"},a)))};T.defaultProps={pageTitle:"React App"};var L=T,R=a(9),A=a(11),F=a(10),U=a(12),D=a(15),M=a.n(D),_=a(28),I={default:"Hmm, an unknown error occured",timeout:"Server Timed Out. Check your internet connection",invalidJson:"Response returned is not valid JSON",invalidFirebase:"Firebase is not connected correctly",memberExists:"Member already exists",missingFirstName:"First name is missing",missingLastName:"Last name is missing",missingEmail:"Email is missing",missingPassword:"Password is missing",passwordsDontMatch:"Passwords do not match",recipe404:"Recipe not found",missingMealId:"Missing meal definition"},B=a(67),z="AIzaSyCOQnLXwZfl5RZ4OLUElyoQspuQka-WJJM",V="webohjelmointi2.firebaseapp.com",W="https://webohjelmointi2.firebaseio.com",H="webohjelmointi2.appspot.com",J="939433855733",K=!1;z&&V&&W&&H&&J&&(B.initializeApp({apiKey:z,authDomain:V,databaseURL:W,storageBucket:H,messagingSenderId:J}),K=!0);var q=K?B.database().ref():null,Y=K?B:null;function G(e){var t=e.email,a=e.password,n=e.password2,r=e.userName;return function(){return new Promise(function(){var e=Object(_.a)(M.a.mark(function e(c,l){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",l({message:I.missingUserName}));case 2:if(t){e.next=4;break}return e.abrupt("return",l({message:I.missingEmail}));case 4:if(a){e.next=6;break}return e.abrupt("return",l({message:I.missingPassword}));case 6:if(n){e.next=8;break}return e.abrupt("return",l({message:I.missingPassword}));case 8:if(a===n){e.next=10;break}return e.abrupt("return",l({message:I.passwordsDontMatch}));case 10:return e.abrupt("return",Y.auth().createUserWithEmailAndPassword(t,a).then(function(e){e&&e.user.uid&&q.child("users/".concat(e.user.uid)).set({userName:r,signedUp:Y.database.ServerValue.TIMESTAMP,lastLoggedIn:Y.database.ServerValue.TIMESTAMP}).then(c)}).catch(l));case 11:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()).catch(function(e){throw e.message})}}function Q(e){var t=q&&Y&&Y.auth()&&Y.auth().currentUser&&Y.auth().currentUser.uid?Y.auth().currentUser.uid:null;return!!t&&q.child("users/".concat(t)).on("value",function(t){var a=t.val()||[];return e({type:"USER_DETAILS_UPDATE",data:a})})}var X=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(A.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(c)))).componentDidMount=function(){(0,a.props.fetchData)()},a.render=function(){var e=a.props,t=e.Layout,n=e.member,c=e.memberLogout,l=e.Items;return r.a.createElement(t,{member:n,logout:c,Items:l})},a}return Object(U.a)(t,e),t}(n.Component),Z={memberLogout:function(){return function(e){return new Promise(function(t,a){return Y.auth().signOut().then(function(){return t(e({type:"USER_RESET"}))}).catch(a)}).catch(function(e){throw e.message})}},fetchData:function(){return null===Y?function(){return new Promise(function(e){return e()})}:function(e){return new Promise(function(t){Y.auth().onAuthStateChanged(function(a){return a?t(Q(e)):function(){return new Promise(function(){return t()})}})})}}},$=Object(o.b)(function(e){return{member:e.member||{}}},Z)(X),ee=a(22),te=a(13),ae=a(228),ne=a(230),re=a(231),ce=a(232),le=a(252),oe=a(233),se=a(234),ie=a(235),ue=a(229),me=a(251),de="KompuutterniNurkkaus",he=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(A.a)(this,Object(F.a)(t).call(this,e))).onLogout=function(){var e=a.props,t=e.history;(0,e.logout)().then(function(){return t.push("/login")})},a.toggleDropDown=function(){var e=a.state.isOpen;a.setState({isOpen:!e})},a.toggleDropDown=a.toggleDropDown.bind(Object(te.a)(Object(te.a)(a))),a.state={isOpen:!1},a}return Object(U.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){var e=this.props,t=e.member,a=e.Items,n=this.state.isOpen,c=!(!t||!t.email);return r.a.createElement("header",{style:{height:60}},r.a.createElement(ae.a,{dark:!0,expand:"sm",className:"fixed-top",style:{minHeight:60,justifyContent:"center",alignItems:"center"}},r.a.createElement(ue.a,{to:"/",className:"navbar-brand",style:{color:"#ffd970",height:40}},r.a.createElement("img",{src:"https://i.imgur.com/Dxkqw0C.png",alt:"header",className:"header-image"})," ",de),r.a.createElement(ne.a,{onClick:this.toggleDropDown}),r.a.createElement(re.a,{isOpen:n,navbar:!0},r.a.createElement(ce.a,{className:"ml-auto",navbar:!0},r.a.createElement("div",{className:"d-block d-sm-none"},a),r.a.createElement(le.a,{nav:!0},r.a.createElement(oe.a,{style:{color:"#ffd970",margin:"0.5rem 0.75rem",padding:0},nav:!0,caret:!0},c?"Hi, ".concat(t.userName):"My Account"),r.a.createElement(se.a,{style:{backgroundColor:"#1c1f25",padding:0,margin:0,border:"2px solid #66531d"}},!c&&r.a.createElement("div",null,r.a.createElement(ie.a,{style:{borderBottom:"1px solid #66531d"},tag:ue.a,to:"/login"},"Login"),r.a.createElement(ie.a,{tag:ue.a,to:"/sign-up"},"Sign Up")),c&&r.a.createElement("div",null,r.a.createElement(ie.a,{style:{borderBottom:"1px solid #66531d"},tag:ue.a,to:"/update-profile"},"Update Profile"),r.a.createElement(ie.a,{tag:"button",onClick:this.onLogout},"Logout"))))))))}}]),t}(n.Component);he.defaultProps={member:{}};var pe=Object(me.a)(he),be=function(){return r.a.createElement("footer",{className:"mt-5"},r.a.createElement(k.a,null,r.a.createElement(P.a,{sm:"12",className:"text-right pt-3"},r.a.createElement("p",null," -> ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/VilleKokkarinen"}," Github ")," | Dev: ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/VilleKokkarinen"}," Ville Kokkarinen ")))))},fe=a(236),Ee=function(){return r.a.createElement("div",null,r.a.createElement(fe.a,null,r.a.createElement(ue.a,{className:"nav-link ".concat("/"===window.location.pathname&&"active"),to:"/"},r.a.createElement("i",{className:"icon-home"})," ",r.a.createElement("span",null,"Home"))),r.a.createElement(fe.a,null,r.a.createElement(ue.a,{className:"nav-link ".concat(window.location.pathname.startsWith("/post")&&"active"),to:"/posts"},r.a.createElement("i",{className:"icon-notebook"})," ",r.a.createElement("span",null,"Posts"))),r.a.createElement(fe.a,null,r.a.createElement(ue.a,{className:"nav-link ".concat(window.location.pathname.startsWith("/chats")&&"active"),to:"/chats"},r.a.createElement("i",{className:"icon-notebook"})," ",r.a.createElement("span",null,"Priv. Chats"))),r.a.createElement(fe.a,null,r.a.createElement(ue.a,{className:"nav-link ".concat(window.location.pathname.startsWith("/member")&&"active"),to:"/members"},r.a.createElement("i",{className:"icon-notebook"})," ",r.a.createElement("span",null,"Members"))),r.a.createElement(fe.a,null,r.a.createElement(ue.a,{className:"nav-link ".concat(window.location.pathname.startsWith("/create-post")&&"active"),to:"/create-post"},r.a.createElement("i",{className:"icon-notebook"})," ",r.a.createElement("span",{className:"text ".concat(window.location.pathname.startsWith("/create-post")&&"active")},"New Post"))))},ge=function(){return r.a.createElement(P.a,{sm:"2",md:"2",className:"d-none d-sm-block sidebar"},r.a.createElement(ce.a,{vertical:!0},Ee()))},ve=function(e){var t=e.pageTitle,a=e.children,n=e.props;return r.a.createElement("div",null,r.a.createElement(x.Helmet,null,r.a.createElement("title",null,t)),r.a.createElement($,Object.assign({},n,{Layout:pe,Items:Ee()})),r.a.createElement(C.a,{fluid:!0},r.a.createElement(k.a,null,r.a.createElement(ge,null),r.a.createElement(P.a,{className:"SideBarTemplateCol"},a,r.a.createElement(be,null)))))};ve.defaultProps={pageTitle:"React App"};var ye=ve,we=a(237),Oe=function(){return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(we.a,{className:"bg-primary text-white"},r.a.createElement("h1",null,"Web & Mobile App Starter Kit"),r.a.createElement("p",{className:"lead"},"For when you're looking to build 'the next big thing', but don't want to start from scratch."),r.a.createElement("p",null,"This App Starter Kit is built for those who need both a web app + mobile app, and don't want to write and maintain two different code bases. The project shares the 'business logic' and allows flexibility in View components to ensure your project looks and feels native in each platform."))),r.a.createElement(k.a,{className:"pt-md-2"},r.a.createElement(P.a,{xs:"12",md:"4",className:"pt-3 pt-md-0"},r.a.createElement("h3",null,r.a.createElement("i",{className:"icon-map"})," ","Routing"),r.a.createElement("p",null,"React Router is used to handle all web-side routing."),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/ReactTraining/react-router",className:"btn btn-primary"},"React Router Docs"))),r.a.createElement(P.a,{xs:"12",md:"4",className:"pt-3 pt-md-0"},r.a.createElement("h3",null,r.a.createElement("i",{className:"icon-fire"})," ","Firebase"),r.a.createElement("p",null,"Firebase is all ready to go with examples on how to read/write data to/from Firebase."),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://firebase.google.com/docs/database/web/start",className:"btn btn-primary"},"Firebase Docs"))),r.a.createElement(P.a,{xs:"12",md:"4",className:"pt-3 pt-md-0"},r.a.createElement("h3",null,r.a.createElement("i",{className:"icon-organization"})," ","Redux"),r.a.createElement("p",null,"State management the 'clean way' via Redux is setup with examples - woohoo!"),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://redux.js.org/docs/introduction/",className:"btn btn-primary"},"Redux Docs")))),r.a.createElement(k.a,{className:"pt-md-5 pb-5"},r.a.createElement(P.a,{xs:"12",md:"4",className:"pt-3 pt-md-0"},r.a.createElement("h3",null,r.a.createElement("i",{className:"icon-layers"})," ","Redux Persist"),r.a.createElement("p",null,"Persist the data stored in Redux for faster load times without needing to hit the server each page load."),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/rt2zz/redux-persist",className:"btn btn-primary"},"Redux Persist Docs"))),r.a.createElement(P.a,{xs:"12",md:"4",className:"pt-3 pt-md-0"},r.a.createElement("h3",null,r.a.createElement("i",{className:"icon-drop"})," ","Web Styles"),r.a.createElement("p",null,"Webpack, SCSS, Bootstrap and ReactStrap - ready at your fingertips."),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://reactstrap.github.io/components/alerts/",className:"btn btn-primary"},"ReactStrap Docs"))),r.a.createElement(P.a,{xs:"12",md:"4",className:"pt-3 pt-md-0"},r.a.createElement("h3",null,r.a.createElement("i",{className:"icon-user-following"})," ","Auth"),r.a.createElement("p",null,"Most apps need user authentication. This one comes ready to go with Firebase Auth - but you can easily change that within the `/actions/member.js`"),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://firebase.google.com/docs/auth/",className:"btn btn-primary"},"Firebase Auth Docs")))),r.a.createElement("hr",null),r.a.createElement(k.a,{className:"pt-5"},r.a.createElement(P.a,{xs:"5",sm:"3",lg:"2",className:"offset-lg-2"},r.a.createElement("img",{className:"img-fluid rounded-circle",src:"https://avatars0.githubusercontent.com/u/1809236?s=460&v=4",alt:"Matt Mcnamee"})),r.a.createElement(P.a,{xs:"12",sm:"9",lg:"5",className:"pt-4 pt-sm-0"},r.a.createElement("h3",null,"I can help"),r.a.createElement("p",null,"This repo is a great place to start, but if you'd prefer to sit back and have your new project built for you,"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://mcnam.ee"},"get in touch with me directly")," ","and I'll provide a quote."))))};var je=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(A.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(c)))).state={error:null,loading:!1},a.componentDidMount=function(){return a.fetchData()},a.fetchData=function(e){var t=a.props,n=t.fetchPosts,r=t.fetchPostTypes;return a.setState({loading:!0}),n(e).then(function(){return r()}).then(function(){return a.setState({loading:!1,error:null})}).catch(function(e){return a.setState({loading:!1,error:e})})},a.render=function(){var e=a.props,t=e.Layout,n=e.posts,c=e.match,l=a.state,o=l.loading,s=l.error,i=c&&c.params&&c.params.id?c.params.id:null;return r.a.createElement(t,{postId:i,error:s,loading:o,posts:n.posts,reFetch:function(){return a.fetchPosts()}})},a}return Object(U.a)(t,e),t}(n.Component);je.defaultProps={match:null};var Ne={fetchPosts:function(){return null===Y?function(){return new Promise(function(e){return e()})}:function(e){return new Promise(function(t){return q.child("posts").on("value",function(a){var n=a.val()||[];return t(e({type:"POSTS_REPLACE",data:n}))})}).catch(function(e){throw e.message})}},fetchPostTypes:function(){return null===Y?function(){return new Promise(function(e){return e()})}:function(e){return new Promise(function(t,a){return q.child("postTypes").once("value").then(function(a){var n=a.val()||[];return t(e({type:"POSTTYPES_REPLACE",data:n}))}).catch(a)}).catch(function(e){throw e.message})}}},Se=Object(o.b)(function(e){return{posts:e.posts||{}}},Ne)(je),Ce=a(238),ke=a(239),Pe=a(240),xe=a(241),Te=a(242),Le=function(e){var t=e.title,a=e.content;return r.a.createElement(k.a,null,r.a.createElement(P.a,{lg:"4"},r.a.createElement("h2",null,t),r.a.createElement("p",null,a),r.a.createElement("p",null,r.a.createElement(ue.a,{to:"/",className:"btn btn-primary"},"Go Home"))))};Le.defaultProps={title:"Uh oh",content:"An unexpected error came up"};var Re=Le,Ae=function(e){var t=e.error,a=e.loading,n=e.posts;if(t)return r.a.createElement(Re,{content:t});var c=n.map(function(e){return r.a.createElement(ke.a,{className:"p-card",key:"".concat(e.id)},r.a.createElement(ue.a,{to:"/post/".concat(e.id)},function(e){if(""!==e.image)return r.a.createElement(Ce.a,{className:"p-card-img",top:!0,src:e.image,alt:e.title})}(e)),r.a.createElement(Pe.a,null,r.a.createElement(xe.a,null,e.title.length>=60?"".concat(e.title.substring(0,60)," ..."):e.title),r.a.createElement(Te.a,null,e.body.length>=100?"".concat(e.body.substring(0,100)," ..."):e.body),r.a.createElement(ue.a,{className:"btn btn-primary",to:"/post/".concat(e.id)},"View Post ",r.a.createElement("i",{className:"icon-arrow-right"}))))});return r.a.createElement("div",null,r.a.createElement(k.a,{className:a?"content-loading":""},c))};Ae.defaultProps={error:null};var Fe=Ae,Ue=a(244),De=a(243),Me=function(){return r.a.createElement(k.a,null,r.a.createElement(P.a,{md:{size:6,offset:3}},r.a.createElement("div",{className:"page-is-loading"},r.a.createElement(De.a,{bar:!0,animated:!0,value:"100"},"Loading"))))},_e=function(e){var t=e.error,a=e.loading,n=e.posts,c=e.postId;if(a)return r.a.createElement(Me,null);if(t)return r.a.createElement(Re,{content:t});var l=null;return c&&n&&(l=n.find(function(e){return e.id===c})),l?r.a.createElement("div",null,r.a.createElement(x.Helmet,null,r.a.createElement("title",null,l.title)),r.a.createElement(k.a,{className:"pb-3"},r.a.createElement(P.a,{sm:"12"},r.a.createElement(ue.a,{className:"btn btn-primary",to:"/posts"},r.a.createElement("i",{className:"icon-arrow-left"})," Back"))),r.a.createElement(k.a,null,r.a.createElement(P.a,{sm:"12"},r.a.createElement("h1",null,l.title.length>=100?"".concat(l.title.substring(0,100)," ..."):l.title),r.a.createElement("p",null,"by: ",l.author))),r.a.createElement(k.a,null,r.a.createElement(P.a,{lg:"4",className:"post-view-card"},r.a.createElement(ke.a,{style:{backgroundColor:"#6A6E74"}},r.a.createElement(Ue.a,null," About this post "),r.a.createElement(Pe.a,{style:{backgroundColor:"#606060"}},r.a.createElement(Te.a,null,l.body)))),r.a.createElement(P.a,{lg:"4",className:"post-view-card"},r.a.createElement(ke.a,{style:{backgroundColor:"#6A6E74"}},r.a.createElement(Ue.a,null," Details "),r.a.createElement(Te.a,{style:{backgroundColor:"#606060"}},l.details))),r.a.createElement(P.a,{lg:"4",className:"post-view-card"},r.a.createElement(ke.a,{style:{backgroundColor:"#6A6E74"}},r.a.createElement(Ue.a,null," info "),r.a.createElement(Te.a,{style:{backgroundColor:"#606060"}},l.info))))):r.a.createElement(Re,{content:I.post404})};_e.defaultProps={error:null};var Ie=_e;function Be(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(_.a)(M.a.mark(function e(t){var a,n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.map(function(){var e=Object(_.a)(M.a.mark(function e(t){var a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.child("users").child(t.id).once("value").then(function(e){return e.val()}).catch(function(){return null});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ve(e){return We.apply(this,arguments)}function We(){return(We=Object(_.a)(M.a.mark(function e(t){var a,n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.child("chat-messages").child(t).once("value").then(function(e){var t=e.val();return Object.values(t)}).catch(function(){return null});case 2:return a=e.sent,e.next=5,a;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function He(){return null===Y?function(){return new Promise(function(e){return e()})}:function(e){return new Promise(function(t){return q.child("chats").on("value",function(){var a=Object(_.a)(M.a.mark(function a(n){var r,c,l,o,s;return M.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.val()||[],c=Object.values(r).map(function(){var e=Object(_.a)(M.a.mark(function e(t){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.chatId,e.t1=t.name,e.next=4,Be(Object.values(t.authorizedUsers));case 4:return e.t2=e.sent,e.next=7,Ve(t.chatId);case 7:return e.t3=e.sent,e.abrupt("return",{id:e.t0,name:e.t1,authorizedUsers:e.t2,messages:e.t3});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),a.next=4,Promise.all(c);case 4:return l=a.sent,o=[],l.forEach(function(e){null!==e.authorizedUsers[0]&&o.push(e)}),a.next=9,Promise.all(o);case 9:(s=a.sent).length>=1&&t(e({type:"CHATS_REPLACE",data:s}));case 11:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}).catch(function(){return null})}}var Je=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(A.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(c)))).state={error:null,loading:!1},a.fetchData=function(e){var t=a.props.fetchChats;return t(e).then(function(){return t()}).then(function(){return a.setState({loading:!1,error:null})}).catch(function(e){return a.setState({loading:!1,error:e})})},a.render=function(){var e=a.props,t=e.Layout,n=e.chats,c=e.match,l=a.state,o=l.loading,s=l.error,i=a.props.member,u=c&&c.params&&c.params.id?c.params.id:null;return r.a.createElement(t,{chatId:u,error:s,loading:o,chats:n.chats,reFetch:function(){return a.fetchChats()},member:i})},a}return Object(U.a)(t,e),t}(n.Component);Je.defaultProps={match:null};var Ke={fetchChats:He},qe=Object(o.b)(function(e){return{chats:e.chats||{},member:e.member||{}}},Ke)(Je),Ye=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(A.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(c)))).state={error:null,loading:!1},a.componentDidMount=function(){a.fetchData()},a.fetchData=function(e){var t=a.props.fetchChats;return t(e).then(function(){return t()}).then(function(){return a.setState({loading:!1,error:null})}).catch(function(e){return a.setState({loading:!1,error:e})})},a.render=function(){var e=a.props,t=e.Layout,n=e.chats,c=e.match,l=e.member,o=a.state,s=o.loading,i=o.error,u=c&&c.params&&c.params.id?c.params.id:null;return r.a.createElement(t,{member:l,chatId:u,error:i,loading:s,chats:n.chats,reFetch:function(){return a.fetchData()}})},a}return Object(U.a)(t,e),t}(n.Component);Ye.defaultProps={match:null};var Ge={fetchChats:He},Qe=Object(o.b)(function(e){return{chats:e.chats||{},member:e.member||{}}},Ge)(Ye),Xe=function(e){var t=e.error,a=e.loading,n=e.chats;if(t)return r.a.createElement(Re,{content:t});var c=n.map(function(e){return r.a.createElement(ke.a,{className:"chat-card",key:"".concat(e.id)},r.a.createElement(Pe.a,{className:"chat-body"},r.a.createElement(ue.a,{key:e.id,style:{width:"100%"},to:"/chat/".concat(e.id)},r.a.createElement(Te.a,{className:"chat-card-title"},e.name)),r.a.createElement(Pe.a,{className:"chat-participants"},e.authorizedUsers.map(function(e){return r.a.createElement(ue.a,{key:e.id,className:"chat-card-text",to:"/member/".concat(e.id)},r.a.createElement(Te.a,{className:"chat-card-text"},"<",e.userName,">"))}))))});return r.a.createElement("div",null,r.a.createElement(k.a,{className:a?"content-loading":""},r.a.createElement(P.a,{sm:"12"},c)))};Xe.defaultProps={error:null};var Ze=Xe,$e=a(18),et=a(245),tt=a(246),at=a(247),nt=a(112),rt=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(A.a)(this,Object(F.a)(t).call(this,e))).handleChange=function(e){a.setState(Object($e.a)({},e.target.name,e.target.value))},a.OnSubmit=function(){(0,a.props.handleCounter)(a.state.reply),a.setState({reply:""})},a.state={reply:""},a.handleChange=a.handleChange.bind(Object(te.a)(Object(te.a)(a))),a}return Object(U.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){var e=this,t=this.state.reply;return r.a.createElement(ke.a,{className:"reply-card"},r.a.createElement(Pe.a,null,r.a.createElement(et.a,null,r.a.createElement(tt.a,null,r.a.createElement(at.a,{className:"text-area",type:"textarea",rows:"10",name:"reply",id:"reply",placeholder:"...enter a body...",value:t,onChange:this.handleChange})),r.a.createElement(nt.a,{onClick:function(){e.OnSubmit()},color:"primary"},"Reply to conversation"))))}}]),t}(r.a.Component),ct=Object(o.b)(function(e){return{reply:e.reply||""}},{})(rt);var lt=function(e){var t=e.error,a=e.loading,n=e.chats,c=e.chatId,l=e.member,o=e.reFetch;if(a)return r.a.createElement(Me,null);if(t)return r.a.createElement(Re,{content:t});var s=null;c&&n&&(s=n.find(function(e){return e.id===c}));if(!s)return r.a.createElement(Re,{content:I.chat404});return r.a.createElement("div",null,r.a.createElement(function(){return r.a.createElement(k.a,{className:"pb-3"},r.a.createElement(P.a,{sm:"12"},r.a.createElement(ue.a,{className:"btn btn-primary",to:"/chats"},r.a.createElement("i",{className:"icon-arrow-left"})," Back")))},null),r.a.createElement(k.a,{className:a?"content-loading":""},r.a.createElement(P.a,{sm:"12"},r.a.createElement(function(){var e=s.messages.map(function(e){return r.a.createElement(ke.a,{className:"chat-card-body",key:"".concat(e.id)},r.a.createElement(Pe.a,{className:"chat-card-timestamp-body"},r.a.createElement(Te.a,{className:"chat-card-timestamp-text"},new Date(+e.timestamp).toLocaleString())),r.a.createElement(Pe.a,{className:"chat-card-main-body"},r.a.createElement(Pe.a,{className:"chat-card-author-body"},r.a.createElement("img",{className:"chat-card-author-img",src:"https://i.imgur.com/Dxkqw0C.png",alt:" "}),r.a.createElement(ue.a,{style:{width:"100%"},to:"/member/".concat(e.author.id)},r.a.createElement(Te.a,{className:"chat-card-author-text"},function(e){var t=null;return e&&s.authorizedUsers&&(t=s.authorizedUsers.find(function(t){return t.id===e})),t.userName}(e.author.id)))),r.a.createElement(Pe.a,{className:"chat-card-message-body"},r.a.createElement(Te.a,{className:"chat-card-message-text"},e.message))))});return r.a.createElement("div",null,r.a.createElement(k.a,{className:a?"content-loading":""},e))},null)),r.a.createElement(ct,{handleCounter:function(e){var t=e,a={id:l.uid},n=(new Date).getTime();!function(e,t,a,n){q.child("chat-messages/").child(e).push({id:q.child("chat-messages/").child(e).push().key,message:t,author:a,timestamp:n}).catch(function(e){console.log(e)})}(c,t,a,n),o()}})))};lt.defaultProps={error:null};var ot=lt;var st=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(A.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(c)))).componentDidMount=function(){return a.fetchMembers()},a.fetchMembers=function(){var e=a.props,t=e.fetchMembers,n=e.showError,r=e.fetchMemberTypes;return t().then(function(){return r()}).catch(function(e){return console.log("Error: ".concat(e)),n(e)})},a.render=function(){var e=a.props,t=e.Layout,n=e.members,c=e.match,l=c&&c.params&&c.params.id?c.params.id:null;return r.a.createElement(t,{memberId:l,error:n.error,loading:n.loading,members:n.members,reFetch:function(){return a.fetchMembers()}})},a}return Object(U.a)(t,e),t}(n.Component);st.defaultProps={match:null};var it={fetchMembers:function(){return null===Y?function(){return new Promise(function(e){return e()})}:function(e){return new Promise(function(t){return q.child("users").on("value",function(a){var n=a.val()||[];return t(e({type:"MEMBERS_REPLACE",data:n}))})}).catch(function(e){return console.log(e)})}},fetchMemberTypes:function(){return null===Y?function(){return new Promise(function(e){return e()})}:function(e){return new Promise(function(t,a){return q.child("memberTypes").once("value").then(function(a){var n=a.val()||[];return t(e({type:"MEMBERTYPES_REPLACE",data:n}))}).catch(a)}).catch(function(e){return console.log(e)})}},showError:function(e){return function(t){return new Promise(function(a){return a(t({type:"MEMBERS_ERROR",data:e}))})}}},ut=Object(o.b)(function(e){return{members:e.members||{}}},it)(st),mt=a(115),dt=function(e){var t=e.error,a=e.loading,n=e.members;if(t)return r.a.createElement(Re,{content:t});var c=n.map(function(e){return r.a.createElement(ke.a,{className:"member-card",key:"".concat(e.id)},r.a.createElement(mt.a,{overlayStyle:{background:"rgba(0, 0, 0, 0.4)"},closeOnDocumentClick:!0,modal:!0,trigger:r.a.createElement(Pe.a,{className:"body"},r.a.createElement("img",{className:"img",src:"https://i.imgur.com/Dxkqw0C.png",alt:" "}),r.a.createElement(Te.a,{className:"text"},e.userName))},r.a.createElement(ke.a,{className:"popup-card"},r.a.createElement(Pe.a,{className:"popup-body"},r.a.createElement("img",{className:"popup-img",src:"https://i.imgur.com/Dxkqw0C.png",alt:" "}),r.a.createElement(Pe.a,{className:"popup-text-body"},r.a.createElement(Te.a,{className:"popup-title"},r.a.createElement(ue.a,{to:"/member/".concat(e.id)},"".concat(e.userName,"'s Profile Page"))),r.a.createElement(Te.a,{className:"popup-text"},r.a.createElement(ue.a,{to:{pathname:"/newchat",chatTarget:e}},"Send a private message")))))))});return r.a.createElement("div",null,r.a.createElement(k.a,{className:a?"content-loading":""},r.a.createElement(P.a,{sm:"12"},c)))};dt.defaultProps={error:null};var ht=dt,pt=function(e){var t=e.error,a=e.loading,n=e.members,c=e.memberId;if(a)return r.a.createElement(Me,null);if(t)return r.a.createElement(Re,{content:t});var l=null;return c&&n&&(l=n.find(function(e){return e.id===c})),l?r.a.createElement("div",null,r.a.createElement(k.a,{className:"pb-3"},r.a.createElement(P.a,{sm:"12"},r.a.createElement(ue.a,{className:"btn btn-primary",to:"/members"},r.a.createElement("i",{className:"icon-arrow-left"})," Back"))),r.a.createElement(k.a,null,r.a.createElement(P.a,{sm:"12"},r.a.createElement("h1",null,"".concat(l.userName)))),r.a.createElement(k.a,null,r.a.createElement(P.a,{lg:"4",className:"members-view-card"},r.a.createElement(ke.a,{style:{backgroundColor:"#6A6E74"}},r.a.createElement(Ue.a,null," About this member "),r.a.createElement(Pe.a,{style:{backgroundColor:"#606060"}},r.a.createElement(Te.a,null,l.userName)))),r.a.createElement(P.a,{lg:"4",className:"members-view-card"},r.a.createElement(ke.a,{style:{backgroundColor:"#6A6E74"}},r.a.createElement(Ue.a,null," Details "),r.a.createElement(Te.a,{style:{backgroundColor:"#606060"}},l.userName))),r.a.createElement(P.a,{lg:"4",className:"members-view-card"},r.a.createElement(ke.a,{style:{backgroundColor:"#6A6E74"}},r.a.createElement(Ue.a,null," info "),r.a.createElement(Te.a,{style:{backgroundColor:"#606060"}},l.userName))))):r.a.createElement(Re,{content:I.member404})};pt.defaultProps={error:null};var bt=pt,ft=a(248);var Et=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(A.a)(this,Object(F.a)(t).call(this,e))).handleChange=function(e){a.setState(Object($e.a)({},e.target.name,e.target.value))},a.state={title:"",body:"",details:"",info:"",category:0,imageurl:""},a.handleChange=a.handleChange.bind(Object(te.a)(Object(te.a)(a))),a}return Object(U.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){var e=this.props.member,t=this.state,a=t.title,n=t.body,c=t.details,l=t.info,o=t.imageurl,s=t.category;return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(P.a,{sm:"12"},r.a.createElement(ue.a,{className:"btn btn-primary",to:"/"},r.a.createElement("i",{className:"icon-arrow-left"})," Back")),r.a.createElement(P.a,null,r.a.createElement(ke.a,{style:{backgroundColor:"#606060",top:25}},r.a.createElement(Ue.a,{style:{backgroundColor:"black"}}," Create a new post "),r.a.createElement(Pe.a,null,r.a.createElement(et.a,null,r.a.createElement(tt.a,null,r.a.createElement(ft.a,{for:"title"}," title "),r.a.createElement(at.a,{className:"text-area",type:"title",name:"title",id:"title",placeholder:"...enter a title...",value:a,onChange:this.handleChange})),r.a.createElement(tt.a,null,r.a.createElement(ft.a,{for:"imageurl"}," image "),r.a.createElement(at.a,{className:"text-area",type:"imageurl",name:"imageurl",id:"imageurl",placeholder:"...enter image url..",value:o,onChange:this.handleChange}),r.a.createElement(tt.a,{style:o?{height:"100",width:"100%",marginTop:15}:{marginTop:15}},r.a.createElement(Ce.a,{style:o?{height:"25%",width:"25%"}:{},top:!0,src:o,alt:""}))),r.a.createElement(tt.a,null,r.a.createElement(ft.a,{for:"body"}," Body "),r.a.createElement(at.a,{className:"text-area",type:"textarea",rows:"10",name:"body",id:"body",placeholder:"...enter a body...",value:n,onChange:this.handleChange})),r.a.createElement(tt.a,null,r.a.createElement(ft.a,{for:"details"}," details "),r.a.createElement(at.a,{className:"text-area",type:"textarea",rows:"4",name:"details",id:"details",placeholder:"...enter details...",value:c,onChange:this.handleChange})),r.a.createElement(tt.a,null,r.a.createElement(ft.a,{for:"info"}," info "),r.a.createElement(at.a,{className:"text-area",type:"textarea",rows:"2",name:"info",id:"info",placeholder:"...enter info ...",value:l,onChange:this.handleChange})),r.a.createElement(nt.a,{onClick:function(){!function(e,t,a,n,r,c,l){q.child("posts/").push({id:q.child("posts/").push().key,slug:e.replace(/\s/g,"-"),title:e,body:t,author:a,category:n,image:r,info:c,details:l}).catch(function(e){console.log(e)})}(a,n,e.userName,s,o,l,c)},color:"primary"}," Submit new post")))))))}}]),t}(r.a.Component);Et.defaultProps={member:{}};var gt=Et,vt=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(A.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(c)))).state={errorMessage:null},a.onFormSubmit=function(e){return(0,a.props.onFormSubmit)(e).catch(function(e){throw a.setState({errorMessage:e}),e})},a.render=function(){var e=a.props,t=e.member,n=e.Layout,c=e.isLoading,l=a.state.errorMessage;return r.a.createElement(n,{member:t,loading:c,error:l,onFormSubmit:a.onFormSubmit})},a}return Object(U.a)(t,e),t}(n.Component),yt={onFormSubmit:G},wt=Object(o.b)(function(e){return{member:e.member||{},isLoading:e.status.loading||!1}},yt)(vt);function Ot(e,t,a,n){q.child("chat-messages/".concat(e,"/")).set({}),function(e,t,a,n){q.child("chat-messages/").child(e).push({id:q.child("chat-messages/").child(e).push().key,message:t,author:a,timestamp:n})}(e,t,a,n)}var jt=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(A.a)(this,Object(F.a)(t).call(this,e))).handleChange=function(e){a.setState(Object($e.a)({},e.target.name,e.target.value))},a.state={title:"",message:""},a.handleChange=a.handleChange.bind(Object(te.a)(Object(te.a)(a))),a}return Object(U.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.member,n=t.chatTarget,c=a.uid,l={id:c},o=n.id,s=(e={},Object($e.a)(e,c,{id:c}),Object($e.a)(e,o,{id:o}),e),i=this.state,u=i.title,m=i.message;return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(P.a,{sm:"12"},r.a.createElement(ue.a,{className:"btn btn-primary",to:"/"},r.a.createElement("i",{className:"icon-arrow-left"})," Back")),r.a.createElement(P.a,null,r.a.createElement(ke.a,{style:{backgroundColor:"#606060",top:25}},r.a.createElement(Ue.a,{style:{backgroundColor:"black"}},"Start a chat with ".concat(n.userName)),r.a.createElement(Pe.a,null,r.a.createElement(et.a,null,r.a.createElement(tt.a,null,r.a.createElement(ft.a,{for:"title"}," title "),r.a.createElement(at.a,{className:"text-area",type:"title",name:"title",id:"title",placeholder:"...enter a title...",value:u,onChange:this.handleChange}),r.a.createElement(ft.a,{for:"message"}," message "),r.a.createElement(at.a,{className:"text-area",type:"message",name:"message",id:"message",placeholder:"...enter a message...",value:m,onChange:this.handleChange})),r.a.createElement(nt.a,{onClick:function(){!function(e,t,a,n){var r=(new Date).getTime(),c=q.child("chats/").push().key;q.child("chats/".concat(c)).set({chatId:c,name:e,createdByUserId:t.id,createdAt:r,authorizedUsers:a}),Ot(c,n,t,r)}(u,l,s,m)},color:"primary"}," Create chat")))))))}}]),t}(r.a.Component);jt.defaultProps={member:{},chatTarget:{}};var Nt=jt,St=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(A.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(c)))).state={errorMessage:null},a.onFormSubmit=function(e){return(0,a.props.onFormSubmit)(e).catch(function(e){throw a.setState({errorMessage:e}),e})},a.render=function(){var e=a.props,t=e.member,n=e.Layout,c=e.isLoading,l=e.location.chatTarget,o=a.state.errorMessage;return r.a.createElement(n,{member:t,loading:c,error:o,onFormSubmit:a.onFormSubmit,chatTarget:l})},a}return Object(U.a)(t,e),t}(n.Component),Ct={onFormSubmit:G},kt=Object(o.b)(function(e){return{member:e.member||{},isLoading:e.status.loading||!1,chatTarget:e.chatTarget}},Ct)(St),Pt=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(A.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(c)))).state={error:null,success:null,loading:!1},a.onFormSubmit=function(e){var t=a.props.onFormSubmit;return a.setState({loading:!0}),t(e).then(function(){return a.setState({loading:!1,success:"Success - You are now a member",error:null})}).catch(function(e){throw a.setState({loading:!1,success:null,error:e}),e})},a.render=function(){var e=a.props,t=e.member,n=e.Layout,c=a.state,l=c.error,o=c.loading,s=c.success;return r.a.createElement(n,{error:l,member:t,loading:o,success:s,onFormSubmit:a.onFormSubmit})},a}return Object(U.a)(t,e),t}(n.Component),xt={onFormSubmit:G},Tt=Object(o.b)(function(e){return{member:e.member||{}}},xt)(Pt),Lt=a(254),Rt=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(A.a)(this,Object(F.a)(t).call(this,e))).handleChange=function(e){a.setState(Object($e.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.props,n=t.onFormSubmit,r=t.history;n(a.state).then(function(){return r.push("/login")}).catch(function(e){return console.log("Error: ".concat(e))})},a.state={userName:"",email:"",password:"",password2:""},a.handleChange=a.handleChange.bind(Object(te.a)(Object(te.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(te.a)(Object(te.a)(a))),a}return Object(U.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){var e=this.props.error,t=this.state,a=t.userName,n=t.email,c=t.password,l=t.password2;return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(P.a,{lg:{size:6,offset:3}},r.a.createElement(ke.a,null,r.a.createElement(Ue.a,null,"Sign Up"),r.a.createElement(Pe.a,null,!!e&&r.a.createElement(Lt.a,{color:"danger"},e),r.a.createElement(et.a,{onSubmit:this.handleSubmit},r.a.createElement(tt.a,null,r.a.createElement(ft.a,{for:"email"},"Email"),r.a.createElement(at.a,{type:"email",name:"email",id:"email",placeholder:"john@doe.corp",value:n,onChange:this.handleChange})),r.a.createElement(tt.a,null,r.a.createElement(ft.a,{for:"userName"},"UserName"),r.a.createElement(at.a,{type:"username",name:"userName",id:"userName",placeholder:"John",value:a,onChange:this.handleChange})),r.a.createElement(tt.a,null,r.a.createElement(ft.a,{for:"password"},"Password"),r.a.createElement(at.a,{type:"password",name:"password",id:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:c,onChange:this.handleChange})),r.a.createElement(tt.a,null,r.a.createElement(ft.a,{for:"password2"},"Confirm Password"),r.a.createElement(at.a,{type:"password",name:"password2",id:"password2",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:l,onChange:this.handleChange})),r.a.createElement(nt.a,{color:"primary"},"Sign Up!")),r.a.createElement("hr",null),r.a.createElement(k.a,null,r.a.createElement(P.a,{sm:"12"},"Already have an account?",r.a.createElement(ue.a,{to:"/login"},"Login"))))))))}}]),t}(r.a.Component);Rt.defaultProps={error:null};var At=Object(me.a)(Rt),Ft=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(A.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(c)))).state={error:null,success:null,loading:!1},a.onFormSubmit=function(e){var t=a.props.onFormSubmit;return a.setState({loading:!0}),t(e).then(function(){return a.setState({loading:!1,success:"Success - Logged in",error:null})}).catch(function(e){throw a.setState({loading:!1,success:null,error:e}),e})},a.render=function(){var e=a.props,t=e.member,n=e.Layout,c=a.state,l=c.error,o=c.loading,s=c.success;return r.a.createElement(n,{error:l,member:t,loading:o,success:s,onFormSubmit:a.onFormSubmit})},a}return Object(U.a)(t,e),t}(n.Component),Ut={onFormSubmit:function(e){var t=e.email,a=e.password;return function(e){return new Promise(function(){var n=Object(_.a)(M.a.mark(function n(r,c){return M.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return",c({message:I.missingEmail}));case 2:if(a){n.next=4;break}return n.abrupt("return",c({message:I.missingPassword}));case 4:return n.abrupt("return",Y.auth().setPersistence(Y.auth.Auth.Persistence.LOCAL).then(function(){return Y.auth().signInWithEmailAndPassword(t,a).then(function(){var t=Object(_.a)(M.a.mark(function t(a){var n;return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(n=a&&a.user?a.user:null).uid&&(q.child("users/".concat(n.uid)).update({lastLoggedIn:Y.database.ServerValue.TIMESTAMP}),!1===n.emailVerified&&Y.auth().currentUser.sendEmailVerification().catch(function(){return console.log("Verification email failed to send")}),Q(e)),t.abrupt("return",r(e({type:"USER_LOGIN",data:n})));case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(c)}));case 5:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()).catch(function(e){throw e.message})}}},Dt=Object(o.b)(function(e){return{member:e.member||{}}},Ut)(Ft),Mt=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(A.a)(this,Object(F.a)(t).call(this,e))).handleChange=function(e){return a.setState(Object($e.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.props,n=t.onFormSubmit,r=t.history;return n(a.state).then(function(){return setTimeout(function(){return r.push("/")},1e3)}).catch(function(){})},a.state={email:e.member&&e.member.email?e.member.email:"",password:""},a.handleChange=a.handleChange.bind(Object(te.a)(Object(te.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(te.a)(Object(te.a)(a))),a}return Object(U.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loading,a=e.success,n=e.error,c=this.state,l=c.email,o=c.password;return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(P.a,{lg:{size:6,offset:3}},r.a.createElement(ke.a,null,r.a.createElement(Ue.a,null,"Login"),r.a.createElement(Pe.a,null,!!a&&r.a.createElement(Lt.a,{color:"success"},a),!!n&&r.a.createElement(Lt.a,{color:"danger"},n),r.a.createElement(et.a,{onSubmit:this.handleSubmit},r.a.createElement(tt.a,null,r.a.createElement(ft.a,{for:"email"},"Email"),r.a.createElement(at.a,{type:"email",name:"email",id:"email",placeholder:"john@doe.corp",disabled:t,value:l,onChange:this.handleChange})),r.a.createElement(tt.a,null,r.a.createElement(ft.a,{for:"password"},"Password"),r.a.createElement(at.a,{type:"password",name:"password",id:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",disabled:t,value:o,onChange:this.handleChange})),r.a.createElement(nt.a,{color:"primary",disabled:t},t?"Loading":"Login")),r.a.createElement("hr",null),r.a.createElement(k.a,null,r.a.createElement(P.a,{sm:"6"},"Need an account?"," ",r.a.createElement(ue.a,{to:"/sign-up"},"Sign Up")),r.a.createElement(P.a,{sm:"6",className:"text-right"},r.a.createElement(ue.a,{to:"/forgot-password"},"Forgot Password?"))))))))}}]),t}(r.a.Component);Mt.defaultProps={error:null,success:null,member:{}};var _t=Object(me.a)(Mt),It=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(A.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(c)))).state={error:null,success:null,loading:!1},a.onFormSubmit=function(e){var t=a.props.onFormSubmit;return a.setState({loading:!0}),t(e).then(function(){return a.setState({loading:!1,success:"Success - Reset link emailed",error:null})}).catch(function(e){throw a.setState({loading:!1,success:null,error:e}),e})},a.render=function(){var e=a.props,t=e.member,n=e.Layout,c=a.state,l=c.error,o=c.loading,s=c.success;return r.a.createElement(n,{error:l,member:t,loading:o,success:s,onFormSubmit:a.onFormSubmit})},a}return Object(U.a)(t,e),t}(n.Component),Bt={onFormSubmit:function(e){var t=e.email;return function(e){return new Promise(function(){var a=Object(_.a)(M.a.mark(function a(n,r){return M.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t){a.next=2;break}return a.abrupt("return",r({message:I.missingEmail}));case 2:return a.abrupt("return",Y.auth().sendPasswordResetEmail(t).then(function(){return n(e({type:"USER_RESET"}))}).catch(r));case 3:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()).catch(function(e){throw e.message})}}},zt=Object(o.b)(function(e){return{member:e.member||{}}},Bt)(It),Vt=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(A.a)(this,Object(F.a)(t).call(this,e))).handleChange=function(e){return a.setState(Object($e.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.props,n=t.onFormSubmit,r=t.history;return n(a.state).then(function(){return setTimeout(function(){return r.push("/login")},1e3)}).catch(function(){})},a.state={email:e.member&&e.member.email?e.member.email:""},a.handleChange=a.handleChange.bind(Object(te.a)(Object(te.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(te.a)(Object(te.a)(a))),a}return Object(U.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loading,a=e.error,n=e.success,c=this.state.email;return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(P.a,{lg:{size:6,offset:3}},r.a.createElement(ke.a,null,r.a.createElement(Ue.a,null,"Forgot Password"),r.a.createElement(Pe.a,null,!!a&&r.a.createElement(Lt.a,{color:"danger"},a),!!n&&r.a.createElement(Lt.a,{color:"success"},n),r.a.createElement(et.a,{onSubmit:this.handleSubmit},r.a.createElement(tt.a,null,r.a.createElement(ft.a,{for:"email"},"Email"),r.a.createElement(at.a,{type:"email",name:"email",id:"email",placeholder:"john@doe.corp",value:c,disabled:t,onChange:this.handleChange})),r.a.createElement(nt.a,{color:"primary",disabled:t},t?"Loading":"Reset Password")),r.a.createElement("hr",null),r.a.createElement(k.a,null,r.a.createElement(P.a,{sm:"6"},"Need an account?"," ",r.a.createElement(ue.a,{to:"/sign-up"},"Sign Up")),r.a.createElement(P.a,{sm:"6",className:"text-right"},r.a.createElement(ue.a,{to:"/login"},"Login")," ","to your account.")))))))}}]),t}(r.a.Component);Vt.defaultProps={error:null,success:null,member:{}};var Wt=Object(me.a)(Vt),Ht=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(A.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(c)))).state={error:null,success:null,loading:!1},a.onFormSubmit=function(e){var t=a.props.onFormSubmit;return a.setState({loading:!0}),t(e).then(function(){return a.setState({loading:!1,success:"Success - Updated",error:null})}).catch(function(e){return a.setState({loading:!1,success:null,error:e})})},a.render=function(){var e=a.props,t=e.member,n=e.Layout,c=a.state,l=c.error,o=c.loading,s=c.success;return r.a.createElement(n,{error:l,member:t,loading:o,success:s,onFormSubmit:a.onFormSubmit})},a}return Object(U.a)(t,e),t}(n.Component),Jt={onFormSubmit:function(e){var t=e.email,a=e.password,n=e.password2,r=e.userName,c=e.changeEmail,l=e.changePassword;return function(e){return new Promise(function(){var o=Object(_.a)(M.a.mark(function o(s,i){var u;return M.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(u=Y.auth().currentUser.uid){o.next=3;break}return o.abrupt("return",i({message:I.missingUserName}));case 3:if(r){o.next=5;break}return o.abrupt("return",i({message:I.missingUserName}));case 5:if(!c){o.next=8;break}if(t){o.next=8;break}return o.abrupt("return",i({message:I.missingEmail}));case 8:if(!l){o.next=15;break}if(a){o.next=11;break}return o.abrupt("return",i({message:I.missingPassword}));case 11:if(n){o.next=13;break}return o.abrupt("return",i({message:I.missingPassword}));case 13:if(a===n){o.next=15;break}return o.abrupt("return",i({message:I.passwordsDontMatch}));case 15:return o.abrupt("return",q.child("users/".concat(u)).update({userName:r}).then(Object(_.a)(M.a.mark(function n(){return M.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!c){n.next=3;break}return n.next=3,Y.auth().currentUser.updateEmail(t).catch(i);case 3:if(!l){n.next=6;break}return n.next=6,Y.auth().currentUser.updatePassword(a).catch(i);case 6:return n.abrupt("return",s(Q(e)));case 7:case"end":return n.stop()}},n)}))).catch(i));case 16:case"end":return o.stop()}},o)}));return function(e,t){return o.apply(this,arguments)}}()).catch(function(e){throw e.message})}}},Kt=Object(o.b)(function(e){return{member:e.member||{}}},Jt)(Ht),qt=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(A.a)(this,Object(F.a)(t).call(this,e))).handleChange=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;a.setState(Object($e.a)({},e.target.name,t))},a.handleSubmit=function(e){e.preventDefault(),(0,a.props.onFormSubmit)(a.state).catch(function(){})},a.state={userName:e.member.userName||"",email:e.member.email||"",password:"",password2:"",changeEmail:!1,changePassword:!1},a.handleChange=a.handleChange.bind(Object(te.a)(Object(te.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(te.a)(Object(te.a)(a))),a}return Object(U.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loading,a=e.success,n=e.error,c=this.state,l=c.userName,o=c.changeEmail,s=c.email,i=c.changePassword,u=c.password,m=c.password2;return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(P.a,{lg:{size:6,offset:3}},r.a.createElement(ke.a,{className:"profile"},r.a.createElement(Ue.a,{className:"header"},"Update Profile"),r.a.createElement(Pe.a,null,!!n&&r.a.createElement(Lt.a,{color:"danger"},n),!!a&&r.a.createElement(Lt.a,{color:"success"},a),r.a.createElement(et.a,{onSubmit:this.handleSubmit},r.a.createElement(tt.a,null,r.a.createElement(ft.a,{for:"userName",style:{margin:0}},"Username"),r.a.createElement(at.a,{className:"text",type:"text",name:"userName",id:"userName",placeholder:"John",value:l,onChange:this.handleChange})),r.a.createElement(tt.a,{check:!0,style:{marginTop:20,marginBottom:10}},r.a.createElement(ft.a,{check:!0},r.a.createElement(at.a,{type:"checkbox",name:"changeEmail",checked:o,onChange:this.handleChange})," Change my email ")),o&&r.a.createElement(tt.a,null,r.a.createElement(ft.a,{for:"email",style:{margin:0}},"New Email address"),r.a.createElement(at.a,{className:"text",type:"email",name:"email",id:"email",placeholder:"john@doe.corp",value:s,onChange:this.handleChange})),r.a.createElement(tt.a,{check:!0,style:{marginTop:20,marginBottom:10}},r.a.createElement(ft.a,{check:!0},r.a.createElement(at.a,{type:"checkbox",name:"changePassword",checked:i,onChange:this.handleChange})," Change my password ")),i&&r.a.createElement("div",null,r.a.createElement(tt.a,null,r.a.createElement(ft.a,{for:"password",style:{margin:0}}," New password"),r.a.createElement(at.a,{className:"text",type:"password",name:"password",id:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:u,onChange:this.handleChange})),r.a.createElement(tt.a,null,r.a.createElement(ft.a,{for:"password2",style:{margin:0}},"Confirm Password"),r.a.createElement(at.a,{className:"text",type:"password",name:"password2",id:"password2",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:m,onChange:this.handleChange}))),r.a.createElement(nt.a,{style:{marginTop:20},color:"primary",disabled:t},t?"Loading":"Update Profile")))))))}}]),t}(r.a.Component);qt.defaultProps={error:null,success:null};var Yt=qt,Gt=function(){return r.a.createElement(N.a,null,r.a.createElement(S.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(ye,null,r.a.createElement(Oe,e))}}),r.a.createElement(S.a,{path:"/sign-up",render:function(e){return r.a.createElement(L,{pageTitle:"Sign Up"},r.a.createElement(Tt,Object.assign({},e,{Layout:At})))}}),r.a.createElement(S.a,{path:"/login",render:function(e){return r.a.createElement(L,{pageTitle:"Login"},r.a.createElement(Dt,Object.assign({},e,{Layout:_t})))}}),r.a.createElement(S.a,{path:"/forgot-password",render:function(e){return r.a.createElement(L,{pageTitle:"Forgot Password"},r.a.createElement(zt,Object.assign({},e,{Layout:Wt})))}}),r.a.createElement(S.a,{path:"/update-profile",render:function(e){return r.a.createElement(ye,{pageTitle:"Update Profile"},r.a.createElement(Kt,Object.assign({},e,{Layout:Yt})))}}),r.a.createElement(S.a,{path:"/newchat",render:function(e){return r.a.createElement(ye,{pageTitle:"Send a message"},r.a.createElement(kt,Object.assign({},e,{Layout:Nt})))}}),r.a.createElement(S.a,{path:"/posts",render:function(e){return r.a.createElement(ye,{pageTitle:"Posts"},r.a.createElement(Se,Object.assign({},e,{Layout:Fe})))}}),r.a.createElement(S.a,{path:"/post/:id",render:function(e){return r.a.createElement(ye,{pageTitle:"Post View"},r.a.createElement(Se,Object.assign({},e,{Layout:Ie})))}}),r.a.createElement(S.a,{path:"/create-post",render:function(e){return r.a.createElement(ye,{pageTitle:"Create a Post"},r.a.createElement(wt,Object.assign({},e,{Layout:gt})))}}),r.a.createElement(S.a,{path:"/members",render:function(e){return r.a.createElement(ye,{pageTitle:"Members"},r.a.createElement(ut,Object.assign({},e,{Layout:ht})))}}),r.a.createElement(S.a,{path:"/member/:id",render:function(e){return r.a.createElement(ye,{pageTitle:"Member View"},r.a.createElement(ut,Object.assign({},e,{Layout:bt})))}}),r.a.createElement(S.a,{path:"/chats",render:function(e){return r.a.createElement(ye,{pageTitle:"Chats"},r.a.createElement(Qe,Object.assign({},e,{Layout:Ze})))}}),r.a.createElement(S.a,{path:"/chat/:id",render:function(e){return r.a.createElement(ye,{pageTitle:"Chat View"},r.a.createElement(qe,Object.assign({},e,{Layout:ot})))}}),r.a.createElement(S.a,{render:function(e){return r.a.createElement(ye,{pageTitle:"404 - Page not found"},r.a.createElement(Re,Object.assign({},e,{title:"404",content:"Sorry, the route you requested does not exist"})))}}))},Qt=(a(222),j()),Xt=Qt.persistor,Zt=Qt.store;l.a.render(r.a.createElement(function(){return r.a.createElement(o.a,{store:Zt},r.a.createElement(i.a,{loading:r.a.createElement(Me,null),persistor:Xt},r.a.createElement(s.a,null,r.a.createElement(Gt,null))))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[117,1,2]]]);
//# sourceMappingURL=main.aae451d2.chunk.js.map